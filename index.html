<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Libertinus+Serif:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&display=swap"
        rel="stylesheet">
    <title>White Marble Syndicate DAO - Classical Wisdom for the Digital Age</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Libertinus Serif', 'Georgia', 'Times New Roman', serif;
            background: #000;
            color: #fff;
            overflow-x: hidden;
        }

        /* Header Navigation */
        .header-nav {
            background: linear-gradient(135deg, #d4a574 0%, #c67c4e 50%, #8b4513 100%);
            padding: 20px 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.5);
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 40px;
        }

        .logo-section {
            position: relative;
            overflow: visible;
            width: 120px;
            /* Give it a fixed width for mobile */
            height: 60px;
            /* Give it a fixed height for mobile */
        }

        .logo-icon {
            position: absolute;
            top: 50%;
            left: 0;
            transform: translateY(-50%);
            height: 99px;
            width: auto;
            z-index: 10;
        }

        .nav-items {
            display: flex;
            gap: 60px;
        }

        .nav-item {
            text-decoration: none;
            color: #2c1810;
            font-weight: 600;
            font-size: 1.1rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            padding: 10px 20px;
            border-radius: 5px;
        }

        .nav-item:hover {
            background: rgba(44, 24, 16, 0.2);
            transform: translateY(-2px);
        }

        /* Mobile menu button */
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: #2c1810;
            font-size: 1.5rem;
            cursor: pointer;
        }

        /* Hero Section */
        .hero-section {
            min-height: 100vh;
            background: #000;
            display: flex;
            align-items: center;
            position: relative;
            overflow: hidden;
        }

        .hero-container {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 80px;
            align-items: center;
            padding: 0 40px;
        }

        .hero-text {
            z-index: 2;
        }

        .hero-title {
            font-size: 4rem;
            font-weight: 300;
            line-height: 1.1;
            margin-bottom: 40px;
            letter-spacing: 2px;
        }

        .title-line {
            display: block;
            margin-bottom: 10px;
        }

        .title-white {
            color: #4ecdc4;
        }

        .title-marble {
            color: #4ecdc4;
        }

        .title-sy {
            color: #4ecdc4;
        }

        .title-ndicates {
            color: #4ecdc4;
        }

        .title-syndicat {
            color: #ffd700;
        }

        .title-vm {
            color: #ffd700;
        }

        .title-marmoris {
            color: #ffd700;
        }

        .title-alb {
            color: #ffd700;
        }

        .title-greek {
            color: #fff;
        }

        .hero-subtitle {
            font-size: 1.3rem;
            color: #d4a574;
            line-height: 1.6;
            margin-bottom: 40px;
            max-width: 500px;
        }

        .hero-visual {
            position: relative;
            height: 600px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .sculpture-container {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .sculpture-image {
            width: 400px;
            height: 500px;
            background-color: #2a2a2a;
            border-radius: 10px;
            position: relative;
            overflow: hidden;
            background-position: center;
            background-size: cover;
        }

        .glow-circle {
            position: absolute;
            width: 500px;
            height: 500px;
            border: 2px solid #4ecdc4;
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            opacity: 0.6;
            animation: pulse 4s ease-in-out infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                transform: translate(-50%, -50%) scale(1);
                opacity: 0.6;
            }

            50% {
                transform: translate(-50%, -50%) scale(1.05);
                opacity: 0.8;
            }
        }

        .accent-circle {
            position: absolute;
            width: 300px;
            height: 300px;
            border: 1px solid #d4a574;
            border-radius: 50%;
            bottom: -50px;
            right: -50px;
            opacity: 0.3;
        }

        /* Content Sections */
        .content-section {
            padding: 100px 0;
            max-width: 1400px;
            margin: 0 auto;
            padding-left: 40px;
            padding-right: 40px;
        }

        .section-title {
            font-size: 3rem;
            font-weight: 300;
            color: #4ecdc4;
            margin-bottom: 60px;
            text-align: center;
            letter-spacing: 2px;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 40px;
            margin-top: 60px;
        }

        .feature-card {
            background: linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 100%);
            padding: 40px;
            border-radius: 15px;
            border: 1px solid #333;
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .feature-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(78, 205, 196, 0.1), transparent);
            transition: left 0.5s ease;
        }

        .feature-card:hover::before {
            left: 100%;
        }

        .feature-card:hover {
            transform: translateY(-10px);
            border-color: #4ecdc4;
            box-shadow: 0 20px 40px rgba(78, 205, 196, 0.1);
        }

        .feature-icon {
            font-size: 3rem;
            color: #ffd700;
            margin-bottom: 20px;
        }

        .feature-title {
            font-size: 1.8rem;
            color: #4ecdc4;
            margin-bottom: 20px;
            font-weight: 400;
        }

        .feature-description {
            color: #ccc;
            font-size: 1.1rem;
            line-height: 1.7;
        }

        /* Mission Statement */
        .mission-section {
            background: linear-gradient(135deg, #1a1a1a 0%, #0a0a0a 100%);
            padding: 100px 0;
            position: relative;
        }

        .mission-container {
            max-width: 1000px;
            margin: 0 auto;
            text-align: center;
            padding: 0 40px;
        }

        .mission-text {
            font-size: 1.4rem;
            color: #d4a574;
            line-height: 1.8;
            font-style: italic;
            margin-bottom: 40px;
        }

        .mission-quote {
            font-size: 2rem;
            color: #4ecdc4;
            font-weight: 300;
            margin-bottom: 40px;
        }

        /* CTA Section */
        .cta-section {
            padding: 100px 0;
            text-align: center;
        }

        .cta-button {
            display: inline-block;
            background: linear-gradient(135deg, #4ecdc4 0%, #44a08d 100%);
            color: #000;
            font-size: 1.2rem;
            font-weight: 600;
            text-decoration: none;
            padding: 20px 50px;
            border-radius: 50px;
            text-transform: uppercase;
            letter-spacing: 2px;
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(78, 205, 196, 0.3);
        }

        .cta-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(78, 205, 196, 0.4);
        }

        /* Footer */
        footer {
            background: #0a0a0a;
            padding: 60px 0 30px;
            border-top: 1px solid #333;
        }

        .footer-content {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            padding: 0 40px;
        }

        .footer-section h3 {
            color: #4ecdc4;
            font-size: 1.3rem;
            margin-bottom: 20px;
            font-weight: 400;
        }

        .footer-section p,
        .footer-section a {
            color: #999;
            text-decoration: none;
            line-height: 1.6;
            margin-bottom: 10px;
        }

        .footer-section a:hover {
            color: #4ecdc4;
        }

        .footer-bottom {
            text-align: center;
            padding-top: 30px;
            margin-top: 40px;
            border-top: 1px solid #333;
            color: #666;
        }

        /* Scroll animations */
        .fade-in {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.6s ease;
        }

        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .nav-container {
                padding: 0 20px;
            }

            .hero-container {
                grid-template-columns: 1fr;
                gap: 40px;
                text-align: center;
                padding: 0 20px;
            }

            .hero-title {
                font-size: 3rem;
            }

            .nav-items {
                gap: 30px;
            }

            .nav-item {
                font-size: 1rem;
            }

            .content-section {
                padding: 80px 20px;
            }

            .mission-container {
                padding: 0 20px;
            }
        }

        @media (max-width: 768px) {
            .header-nav {
                padding: 15px 0;
            }

            .nav-container {
                padding: 0 15px;
            }

            .logo-section {
                width: 80px;
                height: 50px;
            }

            .logo-icon {
                height: 70px;
            }

            .nav-items {
                display: none;
            }

            .mobile-menu-btn {
                display: block;
            }

            .hero-section {
                min-height: 90vh;
                padding: 20px 0;
            }

            .hero-container {
                padding: 0 15px;
                gap: 30px;
            }

            .hero-title {
                font-size: 2.2rem;
                line-height: 1.2;
                margin-bottom: 20px;
                letter-spacing: 1px;
            }

            .hero-subtitle {
                font-size: 1.1rem;
                margin-bottom: 20px;
            }

            .hero-visual {
                height: 400px;
            }

            .sculpture-image {
                width: 280px;
                height: 350px;
            }

            .glow-circle {
                width: 320px;
                height: 320px;
            }

            .accent-circle {
                width: 200px;
                height: 200px;
            }

            .content-section {
                padding: 60px 15px;
            }

            .section-title {
                font-size: 2rem;
                margin-bottom: 40px;
            }

            .features-grid {
                grid-template-columns: 1fr;
                gap: 30px;
                margin-top: 40px;
            }

            .feature-card {
                padding: 30px 20px;
            }

            .feature-title {
                font-size: 1.5rem;
            }

            .feature-description {
                font-size: 1rem;
            }

            .mission-section {
                padding: 60px 0;
            }

            .mission-container {
                padding: 0 15px;
            }

            .mission-text {
                font-size: 1.1rem;
                line-height: 1.6;
            }

            .mission-quote {
                font-size: 1.4rem;
                line-height: 1.4;
            }

            .cta-section {
                padding: 60px 0;
            }

            .cta-button {
                font-size: 1rem;
                padding: 15px 30px;
                letter-spacing: 1px;
            }

            .footer-content {
                padding: 0 15px;
                gap: 30px;
            }
        }

        @media (max-width: 480px) {
            .hero-title {
                font-size: 1.8rem;
            }

            .hero-subtitle {
                font-size: 1rem;
            }

            .sculpture-image {
                width: 220px;
                height: 280px;
            }

            .glow-circle {
                width: 260px;
                height: 260px;
            }

            .section-title {
                font-size: 1.6rem;
            }

            .feature-card {
                padding: 20px 15px;
            }

            .mission-text {
                font-size: 1rem;
            }

            .mission-quote {
                font-size: 1.2rem;
            }

            .cta-button {
                padding: 12px 25px;
                font-size: 0.9rem;
            }
        }

        .preview-card:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15) !important;
        }

        @media (max-width: 768px) {
            .blog-preview .container {
                padding: 0 1rem;
            }

            .preview-card {
                padding: 1.25rem !important;
            }
        }

        /* --- Web3 purchase UI --- */
        .purchase-card {
            max-width: 720px;
            margin: 0 auto;
            background: linear-gradient(135deg, #111 0%, #1c1c1c 100%);
            border: 1px solid #333;
            border-radius: 20px;
            padding: 32px;
            box-shadow: 0 10px 40px rgba(78, 205, 196, 0.08);
        }

        .purchase-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
            align-items: end;
            margin-top: 16px;
        }

        .purchase-label {
            color: #d4a574;
            font-size: 0.95rem;
            margin-bottom: 8px;
        }

        .purchase-input {
            width: 100%;
            background: #0e0e0e;
            border: 1px solid #2b2b2b;
            color: #fff;
            border-radius: 12px;
            padding: 14px 16px;
            font-size: 1.1rem;
            outline: none;
        }

        .btn {
            display: inline-flex;
            justify-content: center;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            border: 0;
            border-radius: 999px;
            padding: 14px 22px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: transform 0.15s ease, box-shadow 0.3s ease;
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .btn-primary {
            background: linear-gradient(135deg, #4ecdc4 0%, #44a08d 100%);
            color: #000;
            box-shadow: 0 10px 30px rgba(78, 205, 196, 0.25);
        }

        .btn-primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 14px 34px rgba(78, 205, 196, 0.35);
        }

        .btn-secondary {
            background: rgba(212, 165, 116, 0.1);
            color: #d4a574;
            border: 1px solid rgba(212, 165, 116, 0.4);
        }

        .purchase-help {
            color: #9aa4aa;
            font-size: 0.95rem;
            margin-top: 12px;
            line-height: 1.6;
        }

        .status {
            margin-top: 16px;
            padding: 12px 14px;
            border: 1px dashed #2a6f6a;
            color: #cfe9e7;
            background: rgba(78, 205, 196, 0.06);
            border-radius: 12px;
            font-size: 0.95rem;
            white-space: pre-wrap;
        }
    </style>
</head>

<body>
    <header class="header-nav">
        <div class="nav-container">
            <div class="logo-section">
                <img src="img/wms-logo.png" alt="Uxorjak" class="logo-icon">
            </div>
            <nav class="nav-items">
                <a href="#mandate" class="nav-item">DAO<br>Mandate</a>
                <a href="#join" class="nav-item">Join as a<br>DAO Member</a>
                <a href="#library" class="nav-item">Library<br>Resources</a>
                <a href="https://whitemarble.ai/blog/posts/bylaws.html" class="nav-item">DAO<br>Bylaws</a>
                <a href="https://portal.whitemarble.ai/apps/privateer" class="nav-item">Library<br>Portal</a>
            </nav>
            <button class="mobile-menu-btn">☰</button>
        </div>
    </header>

    <section class="hero-section">
        <div class="hero-container">
            <div class="hero-text">
                <h1 class="hero-title">
                    <span class="title-line">
                        <span class="title-white">WHITE</span>·<span class="title-marble">MARBLE</span>·<span
                            class="title-sy">SY</span>
                    </span>
                    <span class="title-line">
                        <span class="title-ndicates">NDICATE</span>⚜<span class="title-syndicat">SYNDICAT</span>
                    </span>
                    <span class="title-line">
                        <span class="title-vm">VM</span>·<span class="title-marmoris">MARMORIS</span>·<span
                            class="title-alb">ALB</span>
                    </span>
                    <span class="title-line">
                        <span class="title-vm">Ι</span>⚜<span class="title-greek">ΣΥΝΤΕΧΝΙΑ·ΤΟΥ·Λ</span>
                    </span>
                    <span class="title-line">
                        <span class="title-greek">ΕΥΚΟΥ·ΜΑΡΜΑΡΟΥ</span>
                    </span>
                </h1>
                <p class="hero-subtitle">
                    A library for classical scholarship, augmented with AI or <i>au naturel</i>.
                </p>
            </div>
            <div class="hero-visual">
                <div class="sculpture-container">
                    <div class="sculpture-image"></div>
                    <div class="glow-circle"></div>
                    <div class="accent-circle"></div>
                </div>
            </div>
        </div>
    </section>

    <section class="content-section" id="mandate">
        <h2 class="section-title fade-in">Our Mandate</h2>
        <div class="features-grid">
            <div class="feature-card fade-in">
                <div class="feature-icon">📜</div>
                <h3 class="feature-title">Classical Heritage</h3>
                <p class="feature-description">Curate the best-in-class library of classical scholarship. We will start
                    from ancient works in translation and advance to include everything about the ancient Greek & Roman
                    world, from medieval commentaries to 19th-century research to modern insights. Target the Greek and
                    Latin corpus spanning from Homer through medieval commentaries, as well as relevant scholarship.</p>
            </div>
            <div class="feature-card fade-in">
                <div class="feature-icon">🤖</div>
                <h3 class="feature-title">Private AI Enhancement</h3>
                <p class="feature-description">Provide private LLM client sessions for research and scholarship. The
                    debut model, Llama White Marble, augments research with classical sources for natural language
                    research and contextual conversations with ancient wisdom.</p>
            </div>
            <div class="feature-card fade-in">
                <div class="feature-icon">🏛️</div>
                <h3 class="feature-title">Library</h3>
                <p class="feature-description">Curated collection of primary sources, translations, commentaries,
                    scholarship, and tertiary AI-enhanced tools exclusively available to syndicate members.</p>
            </div>
        </div>
    </section>

    <section class="cta-section" id="join">
        <h2 class="section-title fade-in">Join the Syndicate</h2>
        <div class="purchase-card fade-in visible">
            <div style="display:flex; justify-content: space-between; align-items: center; gap: 12px; flex-wrap: wrap;">
                <p class="feature-description">A $WHTMRBL token is necessary to participate in the White Marble
                    Syndicate DAO. This includes voting rights and other privileges.</p>
                <div>
                    <div class="purchase-label">Price</div>
                    <div style="font-size:1.6rem; color:#4ecdc4;">100 USDC per token</div>
                </div>
                <div>
                    <button id="connectBtn" class="btn btn-secondary">Connect Wallet</button>
                </div>
            </div>

            <div class="purchase-row">
                <div>
                    <label class="purchase-label" for="qtyInput">Quantity</label>
                    <input class="purchase-input" id="qtyInput" type="number" min="1" step="1" value="1">
                </div>
                <div>
                    <div class="purchase-label">Total (USDC)</div>
                    <div id="totalUsdc" style="font-size:1.3rem; color:#ffd700;">100</div>
                </div>
            </div>

            <div style="margin-top:20px; display:flex; gap:12px; flex-wrap:wrap;">
                <button id="buyBtn" class="btn btn-primary" disabled>Approve & Buy</button>
                <button id="switchBtn" class="btn btn-secondary" style="display:none;"></button>
            </div>

            <div class="purchase-help">
                Your wallet will first approve USDC for the White Marble contract, then complete the purchase in a
                second transaction. Recipient is your connected address.
            </div>

            <div id="status" class="status" style="display:none;"></div>

            <!-- Debug Information -->
            <div id="debugInfo" class="debug-info" style="display:none;">
                <h4>Debug Information:</h4>
                <div id="debugContent"></div>
            </div>
        </div>
    </section>

    <!-- Blog Preview Section - Add this to your main page -->
    <section class="blog-preview" style="margin: 4rem 0; padding: 3rem 0; border-top: 1px solid #dee2e6;">
        <div class="container" style="max-width: 800px; margin: 0 auto; padding: 0 2rem;">
            <header class="blog-preview-header" style="text-align: center; margin-bottom: 2rem;">
                <h2
                    style="font-size: 2rem; color: #2c3e50; margin-bottom: 0.5rem; font-weight: normal; font-family: Georgia, 'Times New Roman', serif;">
                    Announcements</h2>
                <p style="color: #6c757d; font-style: italic; font-size: 1.1rem;">Latest updates from the Syndicate</p>
            </header>

            <div class="recent-posts" style="display: grid; gap: 1.5rem;">
                <!-- Latest Post -->
                <article class="feature-card">
                    <div class="preview-date">
                        July 29, 2025</div>
                    <h3 class="section-title fade-in">
                        <a href="blog/posts/2025-07-29--launch.html"
                            style="color: inherit; text-decoration: none; transition: color 0.3s ease;"
                            onmouseover="this.style.color='#495057'" onmouseout="this.style.color='#2c3e50'">Launching
                            White
                            Marble Syndicate as a DAO</a>
                    </h3>
                    <p>We are pleased to announce the official launch of <a href="https://whitemarble.ai">White Marble
                            Syndicate</a>, a library DAO for classical studies. WMS will serve as a curated resource
                        for members to access and utilize the wealth of knowledge stored in material from and about the
                        classical world of Greece and Rome.</p>
                </article>

                <!-- Second Post -->
                <article class="feature-card">
                    <div class="preview-date">
                        July 29, 2025</div>
                    <h3 class="section-title fade-in">
                        <a href="blog/posts/2025-07-29--theory.html"
                            style="color: inherit; text-decoration: none; transition: color 0.3s ease;"
                            onmouseover="this.style.color='#495057'" onmouseout="this.style.color='#2c3e50'">Our
                            Organizational Theory</a>
                    </h3>
                    <p>Today we are publicly launching the White Marble Syndicate. This is a testbed for concepts we
                        have explored throughout <a href="https://extelligencer.substack.com/">The Extellıgencer's</a>
                        run, and we have high hopes for its continued
                        success.</p>
                </article>

                <!-- Third Post -->
                <article class="feature-card">
                    <div class="preview-date">
                        July 29, 2025</div>
                    <h3 class="section-title fade-in">
                        <a href="blog/posts/bylaws.html"
                            style="color: inherit; text-decoration: none; transition: color 0.3s ease;"
                            onmouseover="this.style.color='#495057'" onmouseout="this.style.color='#2c3e50'">Bylaws of
                            the
                            White Marble Syndicate</a>
                    </h3>
                    <p>We are pleased to announce the bylaws of the White Marble Syndicate, which outline the structure
                        and governance of our organization. These bylaws are designed to ensure transparency,
                        accountability, and the effective operation of the Syndicate as a library DAO.</p>
                </article>
            </div>
            <!-- 
            <div class="blog-preview-footer" style="text-align: center; margin-top: 2rem;">
                <a href="blog/"
                    style="color: #495057; text-decoration: none; font-size: 1rem; padding: 0.75rem 1.5rem; border: 1px solid #dee2e6; border-radius: 4px; transition: all 0.3s ease; display: inline-block; font-family: Georgia, 'Times New Roman', serif;"
                    onmouseover="this.style.background='#495057'; this.style.color='white'; this.style.borderColor='#495057'"
                    onmouseout="this.style.background='transparent'; this.style.color='#495057'; this.style.borderColor='#dee2e6'">
                    View All Chronicles →
                </a>
            </div> -->
        </div>
    </section>


    <section class="mission-section">
        <div class="mission-container">
            <p class="mission-text fade-in">
                The wisdom of the ancient world is contained in a relatively few books handed down along tenuous paths.
                A few million words, maybe 5% at the outside of the likely production, survive to inform us of the
                ancient worldview.
            </p>
            <p class="mission-quote fade-in">
                We transform scattered fragments into accessible wisdom. White Marble is a curated library and research
                tool for classical knowledge. Work directly from source texts and scholarship or utilize our AI tools
                trained with classical knowledge to assist your research. Join us in preserving and enhancing the legacy
                of the ancient world.
            </p>
        </div>
    </section>

    <section class="content-section" id="library">
        <h2 class="section-title fade-in">Research Capabilities</h2>
        <div class="features-grid">
            <div class="feature-card fade-in">
                <div class="feature-icon">💭</div>
                <h3 class="feature-title">Contextual Conversations</h3>
                <p class="feature-description">Engage in discussions conditioned to the worldview embodied in classical
                    texts—experience the intellectual landscape from the Odyssey through late antiquity.</p>
            </div>
            <div class="feature-card fade-in">
                <div class="feature-icon">🔍</div>
                <h3 class="feature-title">Active Development</h3>
                <p class="feature-description">We seek to collect and preserve all classical scholarship, from ancient
                    texts to medieval commentaries to Victorian essays.</p>
            </div>
            <div class="feature-card fade-in">
                <div class="feature-icon">⚡</div>
                <h3 class="feature-title">Reduced Hallucination</h3>
                <p class="feature-description">Context windows and RAG architecture ensure responses are grounded in
                    actual classical sources, minimizing spurious information without data provenance.</p>
            </div>
        </div>
    </section>

    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>Connect</h3>
                <p><a href="https://x.com/WhiteMarbleDAO">@WhiteMarbleDAO</a></p>
                <p><a href="https://portal.whitemarble.ai/apps/privateer">Member Portal</a></p>
            </div>
            <div class="footer-section">
                <h3>About</h3>
                <p>A digital automonous organization library dedicated to preserving and enhancing classical Western
                    knowledge.</p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 White Marble Syndicate DAO. Classical wisdom for the digital age.</p>
        </div>
    </footer>

    <script>
        // Smooth scrolling
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Scroll animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);

        document.querySelectorAll('.fade-in').forEach(el => {
            observer.observe(el);
        });

        // Header background on scroll
        window.addEventListener('scroll', () => {
            const header = document.querySelector('.header-nav');
            if (window.scrollY > 50) {
                header.style.background = 'rgba(212, 165, 116, 0.95)';
                header.style.backdropFilter = 'blur(10px)';
            } else {
                header.style.background = 'linear-gradient(135deg, #d4a574 0%, #c67c4e 50%, #8b4513 100%)';
                header.style.backdropFilter = 'none';
            }
        });

        // Array of your image paths
        const sculptureImages = [
            'img/hero-nike.jpeg',
            'img/hero-aphaia-blank.png',
            'img/hero-belvedere-blank.png',
            // 'img/hero-dying-warrior-aphaia-blank.png',
            'img/hero-doryphoros.webp',
            // Add more images as needed
        ];

        // Function to set random background image
        function setRandomSculptureImage() {
            const randomIndex = Math.floor(Math.random() * sculptureImages.length);
            const randomImage = sculptureImages[randomIndex];
            const sculptureElement = document.querySelector('.sculpture-image');

            if (sculptureElement) {
                sculptureElement.style.backgroundImage = `url('${randomImage}')`;
            }
        }

        // Call the function when page loads
        document.addEventListener('DOMContentLoaded', setRandomSculptureImage);
    </script>

    <!-- Ethers.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
    <script>
        // -------------------- CONFIG --------------------
        const CONTRACT_ADDRESS = '0xd15f3B7d00502d074257f81F3e9f7ea31e737977';  // $WHTMRBL contract address
        const EXPECTED_CHAIN_ID = 1;
        const USDC_ADDRESS = '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48';      // Mainnet USDC address

        // Minimal ABI for your contract's function
        const SYNDICATE_ABI = [
            "function buySyndicateToken(address recipient, uint256 paymentAmount) external payable returns (uint256)"
        ];

        // Minimal ERC-20 ABI
        const ERC20_ABI = [
            "function approve(address spender, uint256 amount) external returns (bool)",
            "function allowance(address owner, address spender) external view returns (uint256)",
            "function decimals() external view returns (uint8)",
            "function balanceOf(address) external view returns (uint256)"
        ];

        // -------------------- STATE --------------------
        let provider, signer, userAddress, chainId, usdcDecimals = 6;

        // -------------------- HELPER FUNCTIONS --------------------
        const $ = (id) => document.getElementById(id);

        const status = (msg, type = 'info') => {
            const s = $('status');
            s.style.display = 'block';
            s.textContent = msg;
            s.className = 'status';
            if (type === 'error') s.classList.add('error');
            if (type === 'success') s.classList.add('success');
        };

        const debug = (msg) => {
            const debugInfo = $('debugInfo');
            const debugContent = $('debugContent');
            debugInfo.style.display = 'block';
            debugContent.innerHTML += '<div>' + new Date().toLocaleTimeString() + ': ' + msg + '</div>';
            console.log('DEBUG:', msg);
        };

        const short = (addr) => addr ? addr.slice(0, 6) + '…' + addr.slice(-4) : 'N/A';

        // -------------------- UI WIRING --------------------
        const qtyInput = $('qtyInput');
        const totalUsdc = $('totalUsdc');

        qtyInput.addEventListener('input', () => {
            const q = Math.max(1, parseInt(qtyInput.value || '1', 10));
            qtyInput.value = q;
            totalUsdc.textContent = String(q * 100);
        });

        $('connectBtn').addEventListener('click', connectWallet);
        $('buyBtn').addEventListener('click', handleBuy);

        function requireMetaMask() {
            debug('Checking for MetaMask/Web3 provider...');
            if (!window.ethereum) {
                status('No wallet found. Please install MetaMask.', 'error');
                debug('No window.ethereum found');
                return false;
            }
            debug('Web3 provider found: ' + (window.ethereum.isMetaMask ? 'MetaMask' : 'Other'));
            return true;
        }

        async function connectWallet() {
            try {
                debug('Starting wallet connection...');
                if (!requireMetaMask()) return;

                status('Connecting wallet...');
                provider = new ethers.providers.Web3Provider(window.ethereum);

                debug('Requesting account access...');
                await provider.send('eth_requestAccounts', []);

                signer = provider.getSigner();
                userAddress = await signer.getAddress();
                debug('Connected address: ' + userAddress);

                const network = await provider.getNetwork();
                chainId = Number(network.chainId);
                debug('Connected to chain: ' + chainId);

                $('connectBtn').textContent = short(userAddress);
                $('buyBtn').disabled = false;

                if (EXPECTED_CHAIN_ID && chainId !== Number(EXPECTED_CHAIN_ID)) {
                    showSwitchButton(EXPECTED_CHAIN_ID);
                    status(`Connected to chain ${chainId}. Please switch to ${EXPECTED_CHAIN_ID}.`, 'error');
                    debug('Wrong network detected');
                } else {
                    $('switchBtn').style.display = 'none';
                    status(`Connected: ${short(userAddress)} on chain ${chainId}`, 'success');
                }

                // Fetch USDC decimals for accurate math
                try {
                    debug('Fetching USDC decimals...');
                    const usdc = new ethers.Contract(USDC_ADDRESS, ERC20_ABI, provider);
                    usdcDecimals = await usdc.decimals();
                    debug('USDC decimals: ' + usdcDecimals);
                } catch (e) {
                    debug('Could not read USDC decimals; defaulting to 6. Error: ' + e.message);
                    console.warn('Could not read USDC decimals; defaulting to 6');
                }
            } catch (err) {
                console.error('Wallet connection error:', err);
                debug('Connection failed: ' + err.message);
                status('Failed to connect wallet: ' + err.message, 'error');
            }
        }

        function showSwitchButton(targetChainId) {
            const btn = $('switchBtn');
            btn.style.display = 'inline-flex';
            btn.textContent = `Switch to Chain ${targetChainId}`;
            btn.onclick = async () => {
                try {
                    debug('Attempting to switch network...');
                    await window.ethereum.request({
                        method: 'wallet_switchEthereumChain',
                        params: [{ chainId: '0x' + Number(targetChainId).toString(16) }]
                    });
                    const network = await provider.getNetwork();
                    chainId = Number(network.chainId);
                    btn.style.display = 'none';
                    status(`Switched to chain ${chainId}`, 'success');
                    debug('Network switched successfully to: ' + chainId);
                } catch (e) {
                    console.error('Network switch error:', e);
                    debug('Network switch failed: ' + e.message);
                    status('Unable to switch network in wallet.', 'error');
                }
            };
        }

        async function handleBuy() {
            try {
                debug('Starting purchase process...');

                if (!signer) {
                    debug('No signer, attempting to connect wallet...');
                    return connectWallet();
                }

                if (EXPECTED_CHAIN_ID && chainId !== Number(EXPECTED_CHAIN_ID)) {
                    status('Wrong network. Please switch and try again.', 'error');
                    debug('Purchase blocked due to wrong network');
                    return;
                }

                if (!USDC_ADDRESS || USDC_ADDRESS.startsWith('REPLACE_')) {
                    status('USDC address is not configured. Please contact support.', 'error');
                    debug('USDC address not configured');
                    return;
                }

                const quantity = Math.max(1, parseInt(qtyInput.value || '1', 10));
                const paymentAmount = ethers.BigNumber.from(10).pow(usdcDecimals).mul(100).mul(quantity); // 100 USDC per token
                debug(`Purchase details: ${quantity} tokens, ${paymentAmount.toString()} USDC wei`);

                // Check USDC balance
                const usdc = new ethers.Contract(USDC_ADDRESS, ERC20_ABI, signer);
                const balance = await usdc.balanceOf(userAddress);
                debug(`User USDC balance: ${balance.toString()}`);

                if (balance.lt(paymentAmount)) {
                    status(`Insufficient USDC balance. Need ${ethers.utils.formatUnits(paymentAmount, usdcDecimals)} USDC, have ${ethers.utils.formatUnits(balance, usdcDecimals)} USDC`, 'error');
                    debug('Insufficient USDC balance');
                    return;
                }

                // Check allowance
                const current = await usdc.allowance(userAddress, CONTRACT_ADDRESS);
                debug(`Current allowance: ${current.toString()}`);

                if (current.lt(paymentAmount)) {
                    status(`Approving USDC spend...`);
                    debug('Sending approval transaction...');
                    const tx1 = await usdc.approve(CONTRACT_ADDRESS, paymentAmount);
                    status(`Approval tx sent: ${tx1.hash}\nWaiting for confirmation...`);
                    debug(`Approval tx hash: ${tx1.hash}`);
                    await tx1.wait();
                    status(`Approval confirmed.`, 'success');
                    debug('Approval transaction confirmed');
                } else {
                    status(`Sufficient allowance detected.`);
                    debug('Sufficient allowance already exists');
                }

                // Execute purchase
                const synd = new ethers.Contract(CONTRACT_ADDRESS, SYNDICATE_ABI, signer);
                status(`Purchasing ${quantity} token(s)...`);
                debug('Sending purchase transaction...');
                const tx2 = await synd.buySyndicateToken(userAddress, paymentAmount, { value: 0 });
                status(`Purchase tx sent: ${tx2.hash}\nWaiting for confirmation...`);
                debug(`Purchase tx hash: ${tx2.hash}`);
                const rcpt = await tx2.wait();
                status(`Success! Tx confirmed in block ${rcpt.blockNumber}.`, 'success');
                debug(`Purchase confirmed in block: ${rcpt.blockNumber}`);
            } catch (err) {
                console.error('Purchase error:', err);
                debug('Purchase failed: ' + (err?.data?.message || err?.message || String(err)));
                status(`Error: ${err?.data?.message || err?.message || String(err)}`, 'error');
            }
        }

        // Initialize on page load
        window.addEventListener('load', () => {
            debug('Page loaded, initializing...');

            // Check if wallet is already connected
            if (window.ethereum && window.ethereum.selectedAddress) {
                debug('Wallet already connected, attempting auto-connect...');
                connectWallet();
            }

            // Listen for account changes
            if (window.ethereum) {
                window.ethereum.on('accountsChanged', (accounts) => {
                    debug('Accounts changed: ' + accounts.join(', '));
                    if (accounts.length === 0) {
                        // User disconnected
                        $('connectBtn').textContent = 'Connect Wallet';
                        $('buyBtn').disabled = true;
                        status('Wallet disconnected', 'error');
                    } else {
                        // User switched accounts
                        connectWallet();
                    }
                });

                window.ethereum.on('chainChanged', (chainId) => {
                    debug('Chain changed to: ' + parseInt(chainId, 16));
                    // Reload the page to reset state
                    window.location.reload();
                });
            }
        });

        document.addEventListener('DOMContentLoaded', setRandomSculptureImage);
    </script>
</body>

</html>